/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/login";
exports.ids = ["pages/api/login"];
exports.modules = {

/***/ "axios":
/*!************************!*\
  !*** external "axios" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("axios");

/***/ }),

/***/ "cheerio":
/*!**************************!*\
  !*** external "cheerio" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("cheerio");

/***/ }),

/***/ "cookies":
/*!**************************!*\
  !*** external "cookies" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("cookies");

/***/ }),

/***/ "mongodb":
/*!**************************!*\
  !*** external "mongodb" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("mongodb");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:crypto");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Flogin&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Clogin.js&middlewareConfigBase64=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Flogin&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Clogin.js&middlewareConfigBase64=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _src_pages_api_login_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src\\pages\\api\\login.js */ \"(api)/./src/pages/api/login.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_login_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_login_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/login\",\n        pathname: \"/api/login\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _src_pages_api_login_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmxvZ2luJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGc3JjJTVDcGFnZXMlNUNhcGklNUNsb2dpbi5qcyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUN3RDtBQUN4RDtBQUNBLGlFQUFlLHdFQUFLLENBQUMsb0RBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLG9EQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsid2VicGFjazovL2xlYWRlcmJvYXJkLz8wZjFmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9zcmNcXFxccGFnZXNcXFxcYXBpXFxcXGxvZ2luLmpzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNBUElSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVNfQVBJLFxuICAgICAgICBwYWdlOiBcIi9hcGkvbG9naW5cIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9sb2dpblwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Flogin&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Clogin.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/mongodb.js":
/*!************************!*\
  !*** ./lib/mongodb.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb */ \"mongodb\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongodb__WEBPACK_IMPORTED_MODULE_0__);\n// import { MongoClient } from 'mongodb'\n// const uri = process.env.MONGODB_URI\n// const options = {\n//   useUnifiedTopology: true,\n//   useNewUrlParser: true,\n// }\n// let client\n// let clientPromise\n// if (!process.env.MONGODB_URI) {\n//   throw new Error('Add Mongo URI to env file')\n// }\n// client = new MongoClient(uri, options)\n// clientPromise = client.connect()\n// export default clientPromise\n\nconst uri = process.env.MONGODB_URI;\nif (!uri) {\n    throw new Error(\"Please add your Mongo URI to the environment variables\");\n}\nlet client;\nlet clientPromise;\nif (true) {\n    if (!global._mongoClientPromise) {\n        client = new mongodb__WEBPACK_IMPORTED_MODULE_0__.MongoClient(uri);\n        global._mongoClientPromise = client.connect();\n    }\n    clientPromise = global._mongoClientPromise;\n} else {}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (clientPromise);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvbW9uZ29kYi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSx3Q0FBd0M7QUFFeEMsc0NBQXNDO0FBQ3RDLG9CQUFvQjtBQUNwQiw4QkFBOEI7QUFDOUIsMkJBQTJCO0FBQzNCLElBQUk7QUFFSixhQUFhO0FBQ2Isb0JBQW9CO0FBRXBCLGtDQUFrQztBQUNsQyxpREFBaUQ7QUFDakQsSUFBSTtBQUVKLHlDQUF5QztBQUN6QyxtQ0FBbUM7QUFHbkMsK0JBQStCO0FBR087QUFDdEMsTUFBTUMsTUFBTUMsUUFBUUMsR0FBRyxDQUFDQyxXQUFXO0FBRW5DLElBQUksQ0FBQ0gsS0FBSztJQUNSLE1BQU0sSUFBSUksTUFBTTtBQUNsQjtBQUNBLElBQUlDO0FBQ0osSUFBSUM7QUFDSixJQUFJTCxJQUF5QixFQUFlO0lBQzFDLElBQUksQ0FBQ00sT0FBT0MsbUJBQW1CLEVBQUU7UUFDL0JILFNBQVMsSUFBSU4sZ0RBQVdBLENBQUNDO1FBQ3pCTyxPQUFPQyxtQkFBbUIsR0FBR0gsT0FBT0ksT0FBTztJQUM3QztJQUNBSCxnQkFBZ0JDLE9BQU9DLG1CQUFtQjtBQUM1QyxPQUFPLEVBR047QUFDRCxpRUFBZUYsYUFBYUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2xlYWRlcmJvYXJkLy4vbGliL21vbmdvZGIuanM/ZDkyMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBpbXBvcnQgeyBNb25nb0NsaWVudCB9IGZyb20gJ21vbmdvZGInXHJcblxyXG4vLyBjb25zdCB1cmkgPSBwcm9jZXNzLmVudi5NT05HT0RCX1VSSVxyXG4vLyBjb25zdCBvcHRpb25zID0ge1xyXG4vLyAgIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZSxcclxuLy8gICB1c2VOZXdVcmxQYXJzZXI6IHRydWUsXHJcbi8vIH1cclxuXHJcbi8vIGxldCBjbGllbnRcclxuLy8gbGV0IGNsaWVudFByb21pc2VcclxuXHJcbi8vIGlmICghcHJvY2Vzcy5lbnYuTU9OR09EQl9VUkkpIHtcclxuLy8gICB0aHJvdyBuZXcgRXJyb3IoJ0FkZCBNb25nbyBVUkkgdG8gZW52IGZpbGUnKVxyXG4vLyB9XHJcblxyXG4vLyBjbGllbnQgPSBuZXcgTW9uZ29DbGllbnQodXJpLCBvcHRpb25zKVxyXG4vLyBjbGllbnRQcm9taXNlID0gY2xpZW50LmNvbm5lY3QoKVxyXG5cclxuXHJcbi8vIGV4cG9ydCBkZWZhdWx0IGNsaWVudFByb21pc2VcclxuXHJcblxyXG5pbXBvcnQgeyBNb25nb0NsaWVudCB9IGZyb20gJ21vbmdvZGInO1xyXG5jb25zdCB1cmkgPSBwcm9jZXNzLmVudi5NT05HT0RCX1VSSTtcclxuXHJcbmlmICghdXJpKSB7XHJcbiAgdGhyb3cgbmV3IEVycm9yKCdQbGVhc2UgYWRkIHlvdXIgTW9uZ28gVVJJIHRvIHRoZSBlbnZpcm9ubWVudCB2YXJpYWJsZXMnKTtcclxufVxyXG5sZXQgY2xpZW50O1xyXG5sZXQgY2xpZW50UHJvbWlzZTtcclxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XHJcbiAgaWYgKCFnbG9iYWwuX21vbmdvQ2xpZW50UHJvbWlzZSkge1xyXG4gICAgY2xpZW50ID0gbmV3IE1vbmdvQ2xpZW50KHVyaSk7XHJcbiAgICBnbG9iYWwuX21vbmdvQ2xpZW50UHJvbWlzZSA9IGNsaWVudC5jb25uZWN0KCk7XHJcbiAgfVxyXG4gIGNsaWVudFByb21pc2UgPSBnbG9iYWwuX21vbmdvQ2xpZW50UHJvbWlzZTtcclxufSBlbHNlIHtcclxuICBjbGllbnQgPSBuZXcgTW9uZ29DbGllbnQodXJpKTtcclxuICBjbGllbnRQcm9taXNlID0gY2xpZW50LmNvbm5lY3QoKTtcclxufVxyXG5leHBvcnQgZGVmYXVsdCBjbGllbnRQcm9taXNlO1xyXG4iXSwibmFtZXMiOlsiTW9uZ29DbGllbnQiLCJ1cmkiLCJwcm9jZXNzIiwiZW52IiwiTU9OR09EQl9VUkkiLCJFcnJvciIsImNsaWVudCIsImNsaWVudFByb21pc2UiLCJnbG9iYWwiLCJfbW9uZ29DbGllbnRQcm9taXNlIiwiY29ubmVjdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./lib/mongodb.js\n");

/***/ }),

/***/ "(api)/./src/pages/api/login.js":
/*!********************************!*\
  !*** ./src/pages/api/login.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var cookies__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cookies */ \"cookies\");\n/* harmony import */ var cookies__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(cookies__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_mongodb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/mongodb */ \"(api)/./lib/mongodb.js\");\n/* harmony import */ var _scrape__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./scrape */ \"(api)/./src/pages/api/scrape.js\");\n/* harmony import */ var _scrape__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_scrape__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var node_crypto__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! node:crypto */ \"node:crypto\");\n/* harmony import */ var node_crypto__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(node_crypto__WEBPACK_IMPORTED_MODULE_3__);\n// import Cookies from 'cookies';\n// import clientPromise from \"../../../lib/mongodb\";\n// import { updateQuestionsSolved } from './scrape';\n// //import { fetchLeaderboard } from './leaderboard';\n// const { createHash } = require('node:crypto');\n// export default async function handler(req, res) {\n//   if (req.method == \"POST\") {\n//     const username = req.body['username']\n//     const guess = req.body['password']\n//     const client = await clientPromise;\n//     const db = client.db(\"Users\");\n//     const users = await db.collection(\"Profiles\").find({ \"Username\": username }).toArray();\n//     if (users.length == 0) {\n//       res.redirect(\"/login?msg=Incorrect username or password\");\n//       return;\n//     }\n//     const user = users[0]\n//     const guess_hash = createHash('sha256').update(guess).digest('hex');\n//     if (guess_hash == user.Password) {\n//       const cookies = new Cookies(req, res)\n//       cookies.set('username', username)\n//       await updateQuestionsSolved();\n//       //await fetchLeaderboard();\n//       res.redirect(\"/\")\n//     } else {\n//       res.redirect(\"/login?msg=Incorrect username or password\")\n//     }\n//   } else {\n//     res.redirect(\"/\")\n//   }\n// }\n\n\n\n\nasync function handler(req, res) {\n    if (req.method === \"POST\") {\n        const { username, password } = req.body;\n        try {\n            const client = await _lib_mongodb__WEBPACK_IMPORTED_MODULE_1__[\"default\"];\n            const db = client.db(\"Users\");\n            const users = await db.collection(\"Profiles\").find({\n                Username: username\n            }).toArray();\n            if (users.length === 0) {\n                res.redirect(\"/login?msg=Incorrect username or password\");\n                return;\n            }\n            const user = users[0];\n            const guessHash = (0,node_crypto__WEBPACK_IMPORTED_MODULE_3__.createHash)(\"sha256\").update(password).digest(\"hex\");\n            if (guessHash === user.Password) {\n                const cookies = new (cookies__WEBPACK_IMPORTED_MODULE_0___default())(req, res, {\n                    secure: true,\n                    httpOnly: true\n                });\n                cookies.set(\"username\", username);\n                await (0,_scrape__WEBPACK_IMPORTED_MODULE_2__.updateQuestionsSolved)();\n                res.redirect(\"/\");\n            } else {\n                res.redirect(\"/login?msg=Incorrect username or password\");\n            }\n        } catch (error) {\n            console.error(\"Error handling login request:\", error);\n            res.redirect(\"/login?msg=Internal server error\");\n        }\n    } else {\n        res.redirect(\"/\");\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL2xvZ2luLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUEsaUNBQWlDO0FBQ2pDLG9EQUFvRDtBQUNwRCxvREFBb0Q7QUFDcEQsc0RBQXNEO0FBRXRELGlEQUFpRDtBQUVqRCxvREFBb0Q7QUFDcEQsZ0NBQWdDO0FBQ2hDLDRDQUE0QztBQUM1Qyx5Q0FBeUM7QUFDekMsMENBQTBDO0FBQzFDLHFDQUFxQztBQUNyQyw4RkFBOEY7QUFDOUYsK0JBQStCO0FBQy9CLG1FQUFtRTtBQUNuRSxnQkFBZ0I7QUFDaEIsUUFBUTtBQUNSLDRCQUE0QjtBQUM1QiwyRUFBMkU7QUFDM0UseUNBQXlDO0FBQ3pDLDhDQUE4QztBQUM5QywwQ0FBMEM7QUFFMUMsdUNBQXVDO0FBQ3ZDLG9DQUFvQztBQUVwQywwQkFBMEI7QUFDMUIsZUFBZTtBQUNmLGtFQUFrRTtBQUNsRSxRQUFRO0FBQ1IsYUFBYTtBQUNiLHdCQUF3QjtBQUN4QixNQUFNO0FBQ04sSUFBSTtBQUUwQjtBQUNtQjtBQUNBO0FBQ1I7QUFFMUIsZUFBZUksUUFBUUMsR0FBRyxFQUFFQyxHQUFHO0lBQzVDLElBQUlELElBQUlFLE1BQU0sS0FBSyxRQUFRO1FBQ3pCLE1BQU0sRUFBRUMsUUFBUSxFQUFFQyxRQUFRLEVBQUUsR0FBR0osSUFBSUssSUFBSTtRQUV2QyxJQUFJO1lBQ0YsTUFBTUMsU0FBUyxNQUFNVixvREFBYUE7WUFDbEMsTUFBTVcsS0FBS0QsT0FBT0MsRUFBRSxDQUFDO1lBQ3JCLE1BQU1DLFFBQVEsTUFBTUQsR0FBR0UsVUFBVSxDQUFDLFlBQVlDLElBQUksQ0FBQztnQkFBRUMsVUFBVVI7WUFBUyxHQUFHUyxPQUFPO1lBRWxGLElBQUlKLE1BQU1LLE1BQU0sS0FBSyxHQUFHO2dCQUN0QlosSUFBSWEsUUFBUSxDQUFDO2dCQUNiO1lBQ0Y7WUFFQSxNQUFNQyxPQUFPUCxLQUFLLENBQUMsRUFBRTtZQUNyQixNQUFNUSxZQUFZbEIsdURBQVVBLENBQUMsVUFBVW1CLE1BQU0sQ0FBQ2IsVUFBVWMsTUFBTSxDQUFDO1lBRS9ELElBQUlGLGNBQWNELEtBQUtJLFFBQVEsRUFBRTtnQkFDL0IsTUFBTUMsVUFBVSxJQUFJekIsZ0RBQU9BLENBQUNLLEtBQUtDLEtBQUs7b0JBQUVvQixRQUFRO29CQUFNQyxVQUFVO2dCQUFLO2dCQUNyRUYsUUFBUUcsR0FBRyxDQUFDLFlBQVlwQjtnQkFFeEIsTUFBTU4sOERBQXFCQTtnQkFDM0JJLElBQUlhLFFBQVEsQ0FBQztZQUNmLE9BQU87Z0JBQ0xiLElBQUlhLFFBQVEsQ0FBQztZQUNmO1FBQ0YsRUFBRSxPQUFPVSxPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyxpQ0FBaUNBO1lBQy9DdkIsSUFBSWEsUUFBUSxDQUFDO1FBQ2Y7SUFDRixPQUFPO1FBQ0xiLElBQUlhLFFBQVEsQ0FBQztJQUNmO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9sZWFkZXJib2FyZC8uL3NyYy9wYWdlcy9hcGkvbG9naW4uanM/ZWVmYSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBpbXBvcnQgQ29va2llcyBmcm9tICdjb29raWVzJztcclxuLy8gaW1wb3J0IGNsaWVudFByb21pc2UgZnJvbSBcIi4uLy4uLy4uL2xpYi9tb25nb2RiXCI7XHJcbi8vIGltcG9ydCB7IHVwZGF0ZVF1ZXN0aW9uc1NvbHZlZCB9IGZyb20gJy4vc2NyYXBlJztcclxuLy8gLy9pbXBvcnQgeyBmZXRjaExlYWRlcmJvYXJkIH0gZnJvbSAnLi9sZWFkZXJib2FyZCc7XHJcblxyXG4vLyBjb25zdCB7IGNyZWF0ZUhhc2ggfSA9IHJlcXVpcmUoJ25vZGU6Y3J5cHRvJyk7XHJcblxyXG4vLyBleHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XHJcbi8vICAgaWYgKHJlcS5tZXRob2QgPT0gXCJQT1NUXCIpIHtcclxuLy8gICAgIGNvbnN0IHVzZXJuYW1lID0gcmVxLmJvZHlbJ3VzZXJuYW1lJ11cclxuLy8gICAgIGNvbnN0IGd1ZXNzID0gcmVxLmJvZHlbJ3Bhc3N3b3JkJ11cclxuLy8gICAgIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNsaWVudFByb21pc2U7XHJcbi8vICAgICBjb25zdCBkYiA9IGNsaWVudC5kYihcIlVzZXJzXCIpO1xyXG4vLyAgICAgY29uc3QgdXNlcnMgPSBhd2FpdCBkYi5jb2xsZWN0aW9uKFwiUHJvZmlsZXNcIikuZmluZCh7IFwiVXNlcm5hbWVcIjogdXNlcm5hbWUgfSkudG9BcnJheSgpO1xyXG4vLyAgICAgaWYgKHVzZXJzLmxlbmd0aCA9PSAwKSB7XHJcbi8vICAgICAgIHJlcy5yZWRpcmVjdChcIi9sb2dpbj9tc2c9SW5jb3JyZWN0IHVzZXJuYW1lIG9yIHBhc3N3b3JkXCIpO1xyXG4vLyAgICAgICByZXR1cm47XHJcbi8vICAgICB9XHJcbi8vICAgICBjb25zdCB1c2VyID0gdXNlcnNbMF1cclxuLy8gICAgIGNvbnN0IGd1ZXNzX2hhc2ggPSBjcmVhdGVIYXNoKCdzaGEyNTYnKS51cGRhdGUoZ3Vlc3MpLmRpZ2VzdCgnaGV4Jyk7XHJcbi8vICAgICBpZiAoZ3Vlc3NfaGFzaCA9PSB1c2VyLlBhc3N3b3JkKSB7XHJcbi8vICAgICAgIGNvbnN0IGNvb2tpZXMgPSBuZXcgQ29va2llcyhyZXEsIHJlcylcclxuLy8gICAgICAgY29va2llcy5zZXQoJ3VzZXJuYW1lJywgdXNlcm5hbWUpXHJcblxyXG4vLyAgICAgICBhd2FpdCB1cGRhdGVRdWVzdGlvbnNTb2x2ZWQoKTtcclxuLy8gICAgICAgLy9hd2FpdCBmZXRjaExlYWRlcmJvYXJkKCk7XHJcblxyXG4vLyAgICAgICByZXMucmVkaXJlY3QoXCIvXCIpXHJcbi8vICAgICB9IGVsc2Uge1xyXG4vLyAgICAgICByZXMucmVkaXJlY3QoXCIvbG9naW4/bXNnPUluY29ycmVjdCB1c2VybmFtZSBvciBwYXNzd29yZFwiKVxyXG4vLyAgICAgfVxyXG4vLyAgIH0gZWxzZSB7XHJcbi8vICAgICByZXMucmVkaXJlY3QoXCIvXCIpXHJcbi8vICAgfVxyXG4vLyB9XHJcblxyXG5pbXBvcnQgQ29va2llcyBmcm9tICdjb29raWVzJztcclxuaW1wb3J0IGNsaWVudFByb21pc2UgZnJvbSAnLi4vLi4vLi4vbGliL21vbmdvZGInO1xyXG5pbXBvcnQgeyB1cGRhdGVRdWVzdGlvbnNTb2x2ZWQgfSBmcm9tICcuL3NjcmFwZSc7XHJcbmltcG9ydCB7IGNyZWF0ZUhhc2ggfSBmcm9tICdub2RlOmNyeXB0byc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XHJcbiAgaWYgKHJlcS5tZXRob2QgPT09ICdQT1NUJykge1xyXG4gICAgY29uc3QgeyB1c2VybmFtZSwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNsaWVudFByb21pc2U7XHJcbiAgICAgIGNvbnN0IGRiID0gY2xpZW50LmRiKCdVc2VycycpO1xyXG4gICAgICBjb25zdCB1c2VycyA9IGF3YWl0IGRiLmNvbGxlY3Rpb24oJ1Byb2ZpbGVzJykuZmluZCh7IFVzZXJuYW1lOiB1c2VybmFtZSB9KS50b0FycmF5KCk7XHJcblxyXG4gICAgICBpZiAodXNlcnMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgcmVzLnJlZGlyZWN0KCcvbG9naW4/bXNnPUluY29ycmVjdCB1c2VybmFtZSBvciBwYXNzd29yZCcpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgdXNlciA9IHVzZXJzWzBdO1xyXG4gICAgICBjb25zdCBndWVzc0hhc2ggPSBjcmVhdGVIYXNoKCdzaGEyNTYnKS51cGRhdGUocGFzc3dvcmQpLmRpZ2VzdCgnaGV4Jyk7XHJcblxyXG4gICAgICBpZiAoZ3Vlc3NIYXNoID09PSB1c2VyLlBhc3N3b3JkKSB7XHJcbiAgICAgICAgY29uc3QgY29va2llcyA9IG5ldyBDb29raWVzKHJlcSwgcmVzLCB7IHNlY3VyZTogdHJ1ZSwgaHR0cE9ubHk6IHRydWUgfSk7XHJcbiAgICAgICAgY29va2llcy5zZXQoJ3VzZXJuYW1lJywgdXNlcm5hbWUpO1xyXG5cclxuICAgICAgICBhd2FpdCB1cGRhdGVRdWVzdGlvbnNTb2x2ZWQoKTtcclxuICAgICAgICByZXMucmVkaXJlY3QoJy8nKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXMucmVkaXJlY3QoJy9sb2dpbj9tc2c9SW5jb3JyZWN0IHVzZXJuYW1lIG9yIHBhc3N3b3JkJyk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGhhbmRsaW5nIGxvZ2luIHJlcXVlc3Q6JywgZXJyb3IpO1xyXG4gICAgICByZXMucmVkaXJlY3QoJy9sb2dpbj9tc2c9SW50ZXJuYWwgc2VydmVyIGVycm9yJyk7XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIHJlcy5yZWRpcmVjdCgnLycpO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiQ29va2llcyIsImNsaWVudFByb21pc2UiLCJ1cGRhdGVRdWVzdGlvbnNTb2x2ZWQiLCJjcmVhdGVIYXNoIiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJib2R5IiwiY2xpZW50IiwiZGIiLCJ1c2VycyIsImNvbGxlY3Rpb24iLCJmaW5kIiwiVXNlcm5hbWUiLCJ0b0FycmF5IiwibGVuZ3RoIiwicmVkaXJlY3QiLCJ1c2VyIiwiZ3Vlc3NIYXNoIiwidXBkYXRlIiwiZGlnZXN0IiwiUGFzc3dvcmQiLCJjb29raWVzIiwic2VjdXJlIiwiaHR0cE9ubHkiLCJzZXQiLCJlcnJvciIsImNvbnNvbGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/login.js\n");

/***/ }),

/***/ "(api)/./src/pages/api/scrape.js":
/*!*********************************!*\
  !*** ./src/pages/api/scrape.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("// //import { uri } from '../../../lib/mongodb';\n// const { MongoClient } = require('mongodb');\n// const axios = require('axios');\n// const cheerio = require('cheerio');\n// const url = process.env.MONGODB_URI;\n// const dbName = 'Users';\n// const usersCollectionName = 'Profiles';\n// async function scrapeQuestionsSolved(url, selector) {\n//     try {\n//         const res = await axios.get(url);\n//         const $ = cheerio.load(res.data);\n//         const d = $(selector).last().text().trim();\n//         return parseInt(d.match(/\\d+/)[0]);\n//     } catch (error) {\n//         console.error(`Error fetching data from ${url}:`, error.message);\n//         return null;\n//     }\n// }\n// async function gfgScrapeQuestionsSolved(url, selector) {\n//     let myList = [];\n//     try {\n//         const res = await axios.get(url);\n//         const $ = cheerio.load(res.data);\n//         const d = $(selector).text();\n//         let matches = d.match(/\\d+/g);\n//         if (matches) {\n//             matches.forEach((num) => {\n//                 myList.push(parseInt(num, 10));\n//             })\n//         }\n//         return myList;\n//     } catch (error) {\n//         console.error(`Error fetching data from ${url}:`, error.message);\n//         return null;\n//     }\n// }\n// async function fetchLeetCodeSolved(username) {\n//     let myList = [];\n//     try {\n//         const url = `https://leetcode-stats-api.herokuapp.com/${username}`;\n//         const res = await axios.get(url);\n//         let easy = parseInt(res.data.easySolved);\n//         let medium = parseInt(res.data.mediumSolved);\n//         let hard = parseInt(res.data.hardSolved);\n//         myList.push(easy, medium, hard);\n//         return myList;\n//     } catch (error) {\n//         console.error(`Error fetching data from LeetCode for user ${username}:`, error.message);\n//         return null;\n//     }\n// }\n// export async function updateQuestionsSolved() {\n//     //const client = new MongoClient(url, { useNewUrlParser: true, useUnifiedTopology: true });\n//     const client = new MongoClient(url);\n//     try {\n//         await client.connect();\n//         const db = client.db(dbName);\n//         const usersCollection = db.collection(usersCollectionName);\n//         const users = await usersCollection.find().toArray();\n//         let i = 0;\n//         for (const user of users) {\n//             try {\n//                 const codechefUrl = `https://www.codechef.com/users/${user.CC_username}`;\n//                 const leetcodeUsername = user.Lt_username;\n//                 const gfgUsernameUrl = `https://www.geeksforgeeks.org/user/${user.GFG_username}`;\n//                 const codechefSolved = await scrapeQuestionsSolved(codechefUrl, '.rating-data-section.problems-solved h3');\n//                 const leetcodeSolved = await fetchLeetCodeSolved(leetcodeUsername);\n//                 const gfgSolved = await gfgScrapeQuestionsSolved(gfgUsernameUrl, '.problemNavbar_head__cKSRi');\n//                 const lc_norm = 2 * leetcodeSolved[0] + 3 * leetcodeSolved[1] + 4 * leetcodeSolved[2];\n//                 let gfg_norm = 0.5 * gfgSolved[0] + 1 * gfgSolved[1] + 2 * gfgSolved[2] + 3 * gfgSolved[3] + 4 * gfgSolved[4];\n//                 if (isNaN(gfg_norm)) {\n//                     gfg_norm = 0;\n//                 }\n//                 const cc_norm = 2.5 * codechefSolved;\n//                 let total_norm = 0;\n//                 if (user.Lt_username && user.GFG_username && user.CC_username) {\n//                     total_norm = cc_norm / 3 + lc_norm / 3 + gfg_norm / 3;\n//                 }\n//                 else if (user.Lt_username && user.GFG_username || user.GFG_username && user.CC_username || user.CC_username && user.Lt_username) {\n//                     total_norm = cc_norm / 2 + lc_norm / 2 + gfg_norm / 2;\n//                 }\n//                 else if (user.Lt_username || user.GFG_username || user.CC_username) {\n//                     total_norm = cc_norm / 1 + lc_norm / 1 + gfg_norm / 1;\n//                 }\n//                 else {\n//                     total_norm = 0;\n//                 }\n//                 //const totalSolved = codechefSolved + leetcodeSolved + gfgSolved;\n//                 await usersCollection.updateOne({ _id: user._id }, {\n//                     $set: {\n//                         cc: codechefSolved,\n//                         ccs: cc_norm,\n//                         lc: leetcodeSolved,\n//                         lcs: lc_norm,\n//                         gfg: gfgSolved,\n//                         gfgs: gfg_norm,\n//                         t_norm: total_norm\n//                     }\n//                 });\n//                 console.log(i);\n//                 i++;\n//             } catch (error) {\n//                 console.error(`Error processing user ${user._id}:`, error.message);\n//             }\n//         }\n//     } finally {\n//         await client.close();\n//     }\n// }\n// updateQuestionsSolved().catch(console.error);\nconst { MongoClient } = __webpack_require__(/*! mongodb */ \"mongodb\");\nconst axios = __webpack_require__(/*! axios */ \"axios\");\nconst cheerio = __webpack_require__(/*! cheerio */ \"cheerio\");\nconst url = process.env.MONGODB_URI;\nconst dbName = \"Users\";\nconst usersCollectionName = \"Profiles\";\n// Helper function to delay execution\nconst delay = (ms)=>new Promise((resolve)=>setTimeout(resolve, ms));\nasync function scrapeQuestionsSolved(url, selector) {\n    try {\n        const res = await axios.get(url);\n        const $ = cheerio.load(res.data);\n        const d = $(selector).last().text().trim();\n        return parseInt(d.match(/\\d+/)[0]);\n    } catch (error) {\n        console.error(`Error fetching data from ${url}:`, error.message);\n        return null;\n    }\n}\nasync function gfgScrapeQuestionsSolved(url, selector) {\n    let myList = [];\n    try {\n        const res = await axios.get(url);\n        const $ = cheerio.load(res.data);\n        const d = $(selector).text();\n        let matches = d.match(/\\d+/g);\n        if (matches) {\n            matches.forEach((num)=>{\n                myList.push(parseInt(num, 10));\n            });\n        }\n        return myList;\n    } catch (error) {\n        console.error(`Error fetching data from ${url}:`, error.message);\n        return null;\n    }\n}\nasync function fetchLeetCodeSolved(username) {\n    let myList = [];\n    try {\n        const url = `https://leetcode-stats-api.herokuapp.com/${username}`;\n        const res = await axios.get(url);\n        let easy = parseInt(res.data.easySolved);\n        let medium = parseInt(res.data.mediumSolved);\n        let hard = parseInt(res.data.hardSolved);\n        myList.push(easy, medium, hard);\n        return myList;\n    } catch (error) {\n        console.error(`Error fetching data from LeetCode for user ${username}:`, error.message);\n        return null;\n    }\n}\nasync function updateQuestionsSolved() {\n    const client = new MongoClient(url);\n    const maxRetries = 3;\n    const retryDelay = 5000; // 5 seconds\n    try {\n        await client.connect();\n        const db = client.db(dbName);\n        const usersCollection = db.collection(usersCollectionName);\n        const users = await usersCollection.find().toArray();\n        let i = 0;\n        for (const user of users){\n            try {\n                const codechefUrl = `https://www.codechef.com/users/${user.CC_username}`;\n                const leetcodeUsername = user.Lt_username;\n                const gfgUsernameUrl = `https://www.geeksforgeeks.org/user/${user.GFG_username}`;\n                let codechefSolved, leetcodeSolved, gfgSolved;\n                for(let attempt = 0; attempt < maxRetries; attempt++){\n                    try {\n                        codechefSolved = await scrapeQuestionsSolved(codechefUrl, \".rating-data-section.problems-solved h3\");\n                        break; // Exit loop if successful\n                    } catch (error) {\n                        if (attempt === maxRetries - 1) throw error;\n                        console.error(`Retrying CodeChef scrape for user ${user._id} (attempt ${attempt + 1})`);\n                        await delay(retryDelay);\n                    }\n                }\n                for(let attempt = 0; attempt < maxRetries; attempt++){\n                    try {\n                        leetcodeSolved = await fetchLeetCodeSolved(leetcodeUsername);\n                        break; // Exit loop if successful\n                    } catch (error) {\n                        if (attempt === maxRetries - 1) throw error;\n                        console.error(`Retrying LeetCode fetch for user ${user._id} (attempt ${attempt + 1})`);\n                        await delay(retryDelay);\n                    }\n                }\n                for(let attempt = 0; attempt < maxRetries; attempt++){\n                    try {\n                        gfgSolved = await gfgScrapeQuestionsSolved(gfgUsernameUrl, \".problemNavbar_head__cKSRi\");\n                        break; // Exit loop if successful\n                    } catch (error) {\n                        if (attempt === maxRetries - 1) throw error;\n                        console.error(`Retrying GFG scrape for user ${user._id} (attempt ${attempt + 1})`);\n                        await delay(retryDelay);\n                    }\n                }\n                const lc_norm = 2 * leetcodeSolved[0] + 3 * leetcodeSolved[1] + 4 * leetcodeSolved[2];\n                let gfg_norm = 0.5 * gfgSolved[0] + 1 * gfgSolved[1] + 2 * gfgSolved[2] + 3 * gfgSolved[3] + 4 * gfgSolved[4];\n                if (isNaN(gfg_norm)) {\n                    gfg_norm = 0;\n                }\n                const cc_norm = 2.5 * codechefSolved;\n                let total_norm = 0;\n                if (user.Lt_username && user.GFG_username && user.CC_username) {\n                    total_norm = cc_norm / 3 + lc_norm / 3 + gfg_norm / 3;\n                } else if (user.Lt_username && user.GFG_username || user.GFG_username && user.CC_username || user.CC_username && user.Lt_username) {\n                    total_norm = cc_norm / 2 + lc_norm / 2 + gfg_norm / 2;\n                } else if (user.Lt_username || user.GFG_username || user.CC_username) {\n                    total_norm = cc_norm / 1 + lc_norm / 1 + gfg_norm / 1;\n                } else {\n                    total_norm = 0;\n                }\n                const newValues = {\n                    cc: codechefSolved,\n                    ccs: cc_norm,\n                    lc: leetcodeSolved,\n                    lcs: lc_norm,\n                    gfg: gfgSolved,\n                    gfgs: gfg_norm,\n                    t_norm: total_norm\n                };\n                const currentUser = await usersCollection.findOne({\n                    _id: user._id\n                });\n                if (!currentUser) continue; // Skip if user not found\n                const hasChanges = Object.keys(newValues).some((key)=>JSON.stringify(currentUser[key]) !== JSON.stringify(newValues[key]));\n                if (hasChanges) {\n                    await usersCollection.updateOne({\n                        _id: user._id\n                    }, {\n                        $set: newValues\n                    });\n                    console.log(`Updated user ${user._id}`);\n                } else {\n                    console.log(`No changes for user ${user._id}`);\n                }\n                i++;\n                await delay(1000);\n            } catch (error) {\n                console.error(`Error processing user ${user._id}:`, error.message);\n            }\n        }\n    } finally{\n        await client.close();\n    }\n}\nupdateQuestionsSolved().catch(console.error);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNjLElBQUk7Z0JBR3RFLElBQUlKLFlBQVk7b0JBQ1osTUFBTWpDLGdCQUFnQndDLFNBQVMsQ0FBQzt3QkFBRXZCLEtBQUtYLEtBQUtXLEdBQUc7b0JBQUMsR0FBRzt3QkFDL0N3QixNQUFNbEI7b0JBQ1Y7b0JBQ0E3QyxRQUFRZ0UsR0FBRyxDQUFDLENBQUMsYUFBYSxFQUFFcEMsS0FBS1csR0FBRyxDQUFDLENBQUM7Z0JBQzFDLE9BQU87b0JBQ0h2QyxRQUFRZ0UsR0FBRyxDQUFDLENBQUMsb0JBQW9CLEVBQUVwQyxLQUFLVyxHQUFHLENBQUMsQ0FBQztnQkFDakQ7Z0JBRUFaO2dCQUVBLE1BQU05QyxNQUFNO1lBQ2hCLEVBQUUsT0FBT2tCLE9BQU87Z0JBQ1pDLFFBQVFELEtBQUssQ0FBQyxDQUFDLHNCQUFzQixFQUFFNkIsS0FBS1csR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFeEMsTUFBTUUsT0FBTztZQUNyRTtRQUNKO0lBQ0osU0FBVTtRQUNOLE1BQU1nQixPQUFPZ0QsS0FBSztJQUN0QjtBQUNKO0FBRUFqRCx3QkFBd0JrRCxLQUFLLENBQUNsRSxRQUFRRCxLQUFLIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGVhZGVyYm9hcmQvLi9zcmMvcGFnZXMvYXBpL3NjcmFwZS5qcz9hMzA1Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIC8vaW1wb3J0IHsgdXJpIH0gZnJvbSAnLi4vLi4vLi4vbGliL21vbmdvZGInO1xyXG4vLyBjb25zdCB7IE1vbmdvQ2xpZW50IH0gPSByZXF1aXJlKCdtb25nb2RiJyk7XHJcbi8vIGNvbnN0IGF4aW9zID0gcmVxdWlyZSgnYXhpb3MnKTtcclxuLy8gY29uc3QgY2hlZXJpbyA9IHJlcXVpcmUoJ2NoZWVyaW8nKTtcclxuXHJcbi8vIGNvbnN0IHVybCA9IHByb2Nlc3MuZW52Lk1PTkdPREJfVVJJO1xyXG4vLyBjb25zdCBkYk5hbWUgPSAnVXNlcnMnO1xyXG4vLyBjb25zdCB1c2Vyc0NvbGxlY3Rpb25OYW1lID0gJ1Byb2ZpbGVzJztcclxuXHJcbi8vIGFzeW5jIGZ1bmN0aW9uIHNjcmFwZVF1ZXN0aW9uc1NvbHZlZCh1cmwsIHNlbGVjdG9yKSB7XHJcbi8vICAgICB0cnkge1xyXG4vLyAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGF4aW9zLmdldCh1cmwpO1xyXG4vLyAgICAgICAgIGNvbnN0ICQgPSBjaGVlcmlvLmxvYWQocmVzLmRhdGEpO1xyXG4vLyAgICAgICAgIGNvbnN0IGQgPSAkKHNlbGVjdG9yKS5sYXN0KCkudGV4dCgpLnRyaW0oKTtcclxuLy8gICAgICAgICByZXR1cm4gcGFyc2VJbnQoZC5tYXRjaCgvXFxkKy8pWzBdKTtcclxuLy8gICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbi8vICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgZmV0Y2hpbmcgZGF0YSBmcm9tICR7dXJsfTpgLCBlcnJvci5tZXNzYWdlKTtcclxuLy8gICAgICAgICByZXR1cm4gbnVsbDtcclxuLy8gICAgIH1cclxuLy8gfVxyXG5cclxuLy8gYXN5bmMgZnVuY3Rpb24gZ2ZnU2NyYXBlUXVlc3Rpb25zU29sdmVkKHVybCwgc2VsZWN0b3IpIHtcclxuLy8gICAgIGxldCBteUxpc3QgPSBbXTtcclxuLy8gICAgIHRyeSB7XHJcbi8vICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgYXhpb3MuZ2V0KHVybCk7XHJcbi8vICAgICAgICAgY29uc3QgJCA9IGNoZWVyaW8ubG9hZChyZXMuZGF0YSk7XHJcbi8vICAgICAgICAgY29uc3QgZCA9ICQoc2VsZWN0b3IpLnRleHQoKTtcclxuLy8gICAgICAgICBsZXQgbWF0Y2hlcyA9IGQubWF0Y2goL1xcZCsvZyk7XHJcbi8vICAgICAgICAgaWYgKG1hdGNoZXMpIHtcclxuLy8gICAgICAgICAgICAgbWF0Y2hlcy5mb3JFYWNoKChudW0pID0+IHtcclxuLy8gICAgICAgICAgICAgICAgIG15TGlzdC5wdXNoKHBhcnNlSW50KG51bSwgMTApKTtcclxuLy8gICAgICAgICAgICAgfSlcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgcmV0dXJuIG15TGlzdDtcclxuLy8gICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbi8vICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgZmV0Y2hpbmcgZGF0YSBmcm9tICR7dXJsfTpgLCBlcnJvci5tZXNzYWdlKTtcclxuLy8gICAgICAgICByZXR1cm4gbnVsbDtcclxuLy8gICAgIH1cclxuLy8gfVxyXG5cclxuLy8gYXN5bmMgZnVuY3Rpb24gZmV0Y2hMZWV0Q29kZVNvbHZlZCh1c2VybmFtZSkge1xyXG4vLyAgICAgbGV0IG15TGlzdCA9IFtdO1xyXG4vLyAgICAgdHJ5IHtcclxuLy8gICAgICAgICBjb25zdCB1cmwgPSBgaHR0cHM6Ly9sZWV0Y29kZS1zdGF0cy1hcGkuaGVyb2t1YXBwLmNvbS8ke3VzZXJuYW1lfWA7XHJcbi8vICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgYXhpb3MuZ2V0KHVybCk7XHJcblxyXG4vLyAgICAgICAgIGxldCBlYXN5ID0gcGFyc2VJbnQocmVzLmRhdGEuZWFzeVNvbHZlZCk7XHJcbi8vICAgICAgICAgbGV0IG1lZGl1bSA9IHBhcnNlSW50KHJlcy5kYXRhLm1lZGl1bVNvbHZlZCk7XHJcbi8vICAgICAgICAgbGV0IGhhcmQgPSBwYXJzZUludChyZXMuZGF0YS5oYXJkU29sdmVkKTtcclxuXHJcbi8vICAgICAgICAgbXlMaXN0LnB1c2goZWFzeSwgbWVkaXVtLCBoYXJkKTtcclxuLy8gICAgICAgICByZXR1cm4gbXlMaXN0O1xyXG4vLyAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuLy8gICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBmZXRjaGluZyBkYXRhIGZyb20gTGVldENvZGUgZm9yIHVzZXIgJHt1c2VybmFtZX06YCwgZXJyb3IubWVzc2FnZSk7XHJcbi8vICAgICAgICAgcmV0dXJuIG51bGw7XHJcbi8vICAgICB9XHJcbi8vIH1cclxuXHJcbi8vIGV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVRdWVzdGlvbnNTb2x2ZWQoKSB7XHJcbi8vICAgICAvL2NvbnN0IGNsaWVudCA9IG5ldyBNb25nb0NsaWVudCh1cmwsIHsgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLCB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUgfSk7XHJcbi8vICAgICBjb25zdCBjbGllbnQgPSBuZXcgTW9uZ29DbGllbnQodXJsKTtcclxuXHJcblxyXG4vLyAgICAgdHJ5IHtcclxuLy8gICAgICAgICBhd2FpdCBjbGllbnQuY29ubmVjdCgpO1xyXG4vLyAgICAgICAgIGNvbnN0IGRiID0gY2xpZW50LmRiKGRiTmFtZSk7XHJcbi8vICAgICAgICAgY29uc3QgdXNlcnNDb2xsZWN0aW9uID0gZGIuY29sbGVjdGlvbih1c2Vyc0NvbGxlY3Rpb25OYW1lKTtcclxuXHJcbi8vICAgICAgICAgY29uc3QgdXNlcnMgPSBhd2FpdCB1c2Vyc0NvbGxlY3Rpb24uZmluZCgpLnRvQXJyYXkoKTtcclxuLy8gICAgICAgICBsZXQgaSA9IDA7XHJcblxyXG4vLyAgICAgICAgIGZvciAoY29uc3QgdXNlciBvZiB1c2Vycykge1xyXG4vLyAgICAgICAgICAgICB0cnkge1xyXG4vLyAgICAgICAgICAgICAgICAgY29uc3QgY29kZWNoZWZVcmwgPSBgaHR0cHM6Ly93d3cuY29kZWNoZWYuY29tL3VzZXJzLyR7dXNlci5DQ191c2VybmFtZX1gO1xyXG4vLyAgICAgICAgICAgICAgICAgY29uc3QgbGVldGNvZGVVc2VybmFtZSA9IHVzZXIuTHRfdXNlcm5hbWU7XHJcbi8vICAgICAgICAgICAgICAgICBjb25zdCBnZmdVc2VybmFtZVVybCA9IGBodHRwczovL3d3dy5nZWVrc2ZvcmdlZWtzLm9yZy91c2VyLyR7dXNlci5HRkdfdXNlcm5hbWV9YDtcclxuXHJcbi8vICAgICAgICAgICAgICAgICBjb25zdCBjb2RlY2hlZlNvbHZlZCA9IGF3YWl0IHNjcmFwZVF1ZXN0aW9uc1NvbHZlZChjb2RlY2hlZlVybCwgJy5yYXRpbmctZGF0YS1zZWN0aW9uLnByb2JsZW1zLXNvbHZlZCBoMycpO1xyXG4vLyAgICAgICAgICAgICAgICAgY29uc3QgbGVldGNvZGVTb2x2ZWQgPSBhd2FpdCBmZXRjaExlZXRDb2RlU29sdmVkKGxlZXRjb2RlVXNlcm5hbWUpO1xyXG4vLyAgICAgICAgICAgICAgICAgY29uc3QgZ2ZnU29sdmVkID0gYXdhaXQgZ2ZnU2NyYXBlUXVlc3Rpb25zU29sdmVkKGdmZ1VzZXJuYW1lVXJsLCAnLnByb2JsZW1OYXZiYXJfaGVhZF9fY0tTUmknKTtcclxuXHJcbi8vICAgICAgICAgICAgICAgICBjb25zdCBsY19ub3JtID0gMiAqIGxlZXRjb2RlU29sdmVkWzBdICsgMyAqIGxlZXRjb2RlU29sdmVkWzFdICsgNCAqIGxlZXRjb2RlU29sdmVkWzJdO1xyXG4vLyAgICAgICAgICAgICAgICAgbGV0IGdmZ19ub3JtID0gMC41ICogZ2ZnU29sdmVkWzBdICsgMSAqIGdmZ1NvbHZlZFsxXSArIDIgKiBnZmdTb2x2ZWRbMl0gKyAzICogZ2ZnU29sdmVkWzNdICsgNCAqIGdmZ1NvbHZlZFs0XTtcclxuLy8gICAgICAgICAgICAgICAgIGlmIChpc05hTihnZmdfbm9ybSkpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBnZmdfbm9ybSA9IDA7XHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICBjb25zdCBjY19ub3JtID0gMi41ICogY29kZWNoZWZTb2x2ZWQ7XHJcblxyXG4vLyAgICAgICAgICAgICAgICAgbGV0IHRvdGFsX25vcm0gPSAwO1xyXG5cclxuLy8gICAgICAgICAgICAgICAgIGlmICh1c2VyLkx0X3VzZXJuYW1lICYmIHVzZXIuR0ZHX3VzZXJuYW1lICYmIHVzZXIuQ0NfdXNlcm5hbWUpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICB0b3RhbF9ub3JtID0gY2Nfbm9ybSAvIDMgKyBsY19ub3JtIC8gMyArIGdmZ19ub3JtIC8gMztcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgIGVsc2UgaWYgKHVzZXIuTHRfdXNlcm5hbWUgJiYgdXNlci5HRkdfdXNlcm5hbWUgfHwgdXNlci5HRkdfdXNlcm5hbWUgJiYgdXNlci5DQ191c2VybmFtZSB8fCB1c2VyLkNDX3VzZXJuYW1lICYmIHVzZXIuTHRfdXNlcm5hbWUpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICB0b3RhbF9ub3JtID0gY2Nfbm9ybSAvIDIgKyBsY19ub3JtIC8gMiArIGdmZ19ub3JtIC8gMjtcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgIGVsc2UgaWYgKHVzZXIuTHRfdXNlcm5hbWUgfHwgdXNlci5HRkdfdXNlcm5hbWUgfHwgdXNlci5DQ191c2VybmFtZSkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHRvdGFsX25vcm0gPSBjY19ub3JtIC8gMSArIGxjX25vcm0gLyAxICsgZ2ZnX25vcm0gLyAxO1xyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdG90YWxfbm9ybSA9IDA7XHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAvL2NvbnN0IHRvdGFsU29sdmVkID0gY29kZWNoZWZTb2x2ZWQgKyBsZWV0Y29kZVNvbHZlZCArIGdmZ1NvbHZlZDtcclxuXHJcbi8vICAgICAgICAgICAgICAgICBhd2FpdCB1c2Vyc0NvbGxlY3Rpb24udXBkYXRlT25lKHsgX2lkOiB1c2VyLl9pZCB9LCB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgJHNldDoge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBjYzogY29kZWNoZWZTb2x2ZWQsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGNjczogY2Nfbm9ybSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgbGM6IGxlZXRjb2RlU29sdmVkLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBsY3M6IGxjX25vcm0sXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGdmZzogZ2ZnU29sdmVkLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBnZmdzOiBnZmdfbm9ybSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgdF9ub3JtOiB0b3RhbF9ub3JtXHJcbi8vICAgICAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgfSk7XHJcbi8vICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhpKTtcclxuLy8gICAgICAgICAgICAgICAgIGkrKztcclxuLy8gICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuLy8gICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHByb2Nlc3NpbmcgdXNlciAke3VzZXIuX2lkfTpgLCBlcnJvci5tZXNzYWdlKTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH0gZmluYWxseSB7XHJcbi8vICAgICAgICAgYXdhaXQgY2xpZW50LmNsb3NlKCk7XHJcbi8vICAgICB9XHJcbi8vIH1cclxuLy8gdXBkYXRlUXVlc3Rpb25zU29sdmVkKCkuY2F0Y2goY29uc29sZS5lcnJvcik7XHJcblxyXG5cclxuXHJcblxyXG5jb25zdCB7IE1vbmdvQ2xpZW50IH0gPSByZXF1aXJlKCdtb25nb2RiJyk7XHJcbmNvbnN0IGF4aW9zID0gcmVxdWlyZSgnYXhpb3MnKTtcclxuY29uc3QgY2hlZXJpbyA9IHJlcXVpcmUoJ2NoZWVyaW8nKTtcclxuXHJcbmNvbnN0IHVybCA9IHByb2Nlc3MuZW52Lk1PTkdPREJfVVJJO1xyXG5jb25zdCBkYk5hbWUgPSAnVXNlcnMnO1xyXG5jb25zdCB1c2Vyc0NvbGxlY3Rpb25OYW1lID0gJ1Byb2ZpbGVzJztcclxuXHJcbi8vIEhlbHBlciBmdW5jdGlvbiB0byBkZWxheSBleGVjdXRpb25cclxuY29uc3QgZGVsYXkgPSAobXMpID0+IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpO1xyXG5cclxuYXN5bmMgZnVuY3Rpb24gc2NyYXBlUXVlc3Rpb25zU29sdmVkKHVybCwgc2VsZWN0b3IpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBheGlvcy5nZXQodXJsKTtcclxuICAgICAgICAgICAgY29uc3QgJCA9IGNoZWVyaW8ubG9hZChyZXMuZGF0YSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGQgPSAkKHNlbGVjdG9yKS5sYXN0KCkudGV4dCgpLnRyaW0oKTtcclxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KGQubWF0Y2goL1xcZCsvKVswXSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgZmV0Y2hpbmcgZGF0YSBmcm9tICR7dXJsfTpgLCBlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZ2ZnU2NyYXBlUXVlc3Rpb25zU29sdmVkKHVybCwgc2VsZWN0b3IpIHtcclxuICAgIGxldCBteUxpc3QgPSBbXTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgYXhpb3MuZ2V0KHVybCk7XHJcbiAgICAgICAgY29uc3QgJCA9IGNoZWVyaW8ubG9hZChyZXMuZGF0YSk7XHJcbiAgICAgICAgY29uc3QgZCA9ICQoc2VsZWN0b3IpLnRleHQoKTtcclxuICAgICAgICBsZXQgbWF0Y2hlcyA9IGQubWF0Y2goL1xcZCsvZyk7XHJcbiAgICAgICAgaWYgKG1hdGNoZXMpIHtcclxuICAgICAgICAgICAgbWF0Y2hlcy5mb3JFYWNoKChudW0pID0+IHtcclxuICAgICAgICAgICAgICAgIG15TGlzdC5wdXNoKHBhcnNlSW50KG51bSwgMTApKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBteUxpc3Q7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGZldGNoaW5nIGRhdGEgZnJvbSAke3VybH06YCwgZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGZldGNoTGVldENvZGVTb2x2ZWQodXNlcm5hbWUpIHtcclxuICAgIGxldCBteUxpc3QgPSBbXTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgdXJsID0gYGh0dHBzOi8vbGVldGNvZGUtc3RhdHMtYXBpLmhlcm9rdWFwcC5jb20vJHt1c2VybmFtZX1gO1xyXG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGF4aW9zLmdldCh1cmwpO1xyXG5cclxuICAgICAgICBsZXQgZWFzeSA9IHBhcnNlSW50KHJlcy5kYXRhLmVhc3lTb2x2ZWQpO1xyXG4gICAgICAgIGxldCBtZWRpdW0gPSBwYXJzZUludChyZXMuZGF0YS5tZWRpdW1Tb2x2ZWQpO1xyXG4gICAgICAgIGxldCBoYXJkID0gcGFyc2VJbnQocmVzLmRhdGEuaGFyZFNvbHZlZCk7XHJcblxyXG4gICAgICAgIG15TGlzdC5wdXNoKGVhc3ksIG1lZGl1bSwgaGFyZCk7XHJcbiAgICAgICAgcmV0dXJuIG15TGlzdDtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgZmV0Y2hpbmcgZGF0YSBmcm9tIExlZXRDb2RlIGZvciB1c2VyICR7dXNlcm5hbWV9OmAsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiB1cGRhdGVRdWVzdGlvbnNTb2x2ZWQoKSB7XHJcbiAgICBjb25zdCBjbGllbnQgPSBuZXcgTW9uZ29DbGllbnQodXJsKTtcclxuICAgIGNvbnN0IG1heFJldHJpZXMgPSAzO1xyXG4gICAgY29uc3QgcmV0cnlEZWxheSA9IDUwMDA7IC8vIDUgc2Vjb25kc1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgICAgYXdhaXQgY2xpZW50LmNvbm5lY3QoKTtcclxuICAgICAgICBjb25zdCBkYiA9IGNsaWVudC5kYihkYk5hbWUpO1xyXG4gICAgICAgIGNvbnN0IHVzZXJzQ29sbGVjdGlvbiA9IGRiLmNvbGxlY3Rpb24odXNlcnNDb2xsZWN0aW9uTmFtZSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHVzZXJzID0gYXdhaXQgdXNlcnNDb2xsZWN0aW9uLmZpbmQoKS50b0FycmF5KCk7XHJcbiAgICAgICAgbGV0IGkgPSAwO1xyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IHVzZXIgb2YgdXNlcnMpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvZGVjaGVmVXJsID0gYGh0dHBzOi8vd3d3LmNvZGVjaGVmLmNvbS91c2Vycy8ke3VzZXIuQ0NfdXNlcm5hbWV9YDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxlZXRjb2RlVXNlcm5hbWUgPSB1c2VyLkx0X3VzZXJuYW1lO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZ2ZnVXNlcm5hbWVVcmwgPSBgaHR0cHM6Ly93d3cuZ2Vla3Nmb3JnZWVrcy5vcmcvdXNlci8ke3VzZXIuR0ZHX3VzZXJuYW1lfWA7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGNvZGVjaGVmU29sdmVkLCBsZWV0Y29kZVNvbHZlZCwgZ2ZnU29sdmVkO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGF0dGVtcHQgPSAwOyBhdHRlbXB0IDwgbWF4UmV0cmllczsgYXR0ZW1wdCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZWNoZWZTb2x2ZWQgPSBhd2FpdCBzY3JhcGVRdWVzdGlvbnNTb2x2ZWQoY29kZWNoZWZVcmwsICcucmF0aW5nLWRhdGEtc2VjdGlvbi5wcm9ibGVtcy1zb2x2ZWQgaDMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7IC8vIEV4aXQgbG9vcCBpZiBzdWNjZXNzZnVsXHJcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dGVtcHQgPT09IG1heFJldHJpZXMgLSAxKSB0aHJvdyBlcnJvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgUmV0cnlpbmcgQ29kZUNoZWYgc2NyYXBlIGZvciB1c2VyICR7dXNlci5faWR9IChhdHRlbXB0ICR7YXR0ZW1wdCArIDF9KWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBkZWxheShyZXRyeURlbGF5KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgYXR0ZW1wdCA9IDA7IGF0dGVtcHQgPCBtYXhSZXRyaWVzOyBhdHRlbXB0KyspIHtcclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWV0Y29kZVNvbHZlZCA9IGF3YWl0IGZldGNoTGVldENvZGVTb2x2ZWQobGVldGNvZGVVc2VybmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOyAvLyBFeGl0IGxvb3AgaWYgc3VjY2Vzc2Z1bFxyXG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRlbXB0ID09PSBtYXhSZXRyaWVzIC0gMSkgdGhyb3cgZXJyb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFJldHJ5aW5nIExlZXRDb2RlIGZldGNoIGZvciB1c2VyICR7dXNlci5faWR9IChhdHRlbXB0ICR7YXR0ZW1wdCArIDF9KWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBkZWxheShyZXRyeURlbGF5KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgYXR0ZW1wdCA9IDA7IGF0dGVtcHQgPCBtYXhSZXRyaWVzOyBhdHRlbXB0KyspIHtcclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBnZmdTb2x2ZWQgPSBhd2FpdCBnZmdTY3JhcGVRdWVzdGlvbnNTb2x2ZWQoZ2ZnVXNlcm5hbWVVcmwsICcucHJvYmxlbU5hdmJhcl9oZWFkX19jS1NSaScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhazsgLy8gRXhpdCBsb29wIGlmIHN1Y2Nlc3NmdWxcclxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0ZW1wdCA9PT0gbWF4UmV0cmllcyAtIDEpIHRocm93IGVycm9yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBSZXRyeWluZyBHRkcgc2NyYXBlIGZvciB1c2VyICR7dXNlci5faWR9IChhdHRlbXB0ICR7YXR0ZW1wdCArIDF9KWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBkZWxheShyZXRyeURlbGF5KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgbGNfbm9ybSA9IDIgKiBsZWV0Y29kZVNvbHZlZFswXSArIDMgKiBsZWV0Y29kZVNvbHZlZFsxXSArIDQgKiBsZWV0Y29kZVNvbHZlZFsyXTtcclxuICAgICAgICAgICAgICAgIGxldCBnZmdfbm9ybSA9IDAuNSAqIGdmZ1NvbHZlZFswXSArIDEgKiBnZmdTb2x2ZWRbMV0gKyAyICogZ2ZnU29sdmVkWzJdICsgMyAqIGdmZ1NvbHZlZFszXSArIDQgKiBnZmdTb2x2ZWRbNF07XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNOYU4oZ2ZnX25vcm0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2ZnX25vcm0gPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgY2Nfbm9ybSA9IDIuNSAqIGNvZGVjaGVmU29sdmVkO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCB0b3RhbF9ub3JtID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodXNlci5MdF91c2VybmFtZSAmJiB1c2VyLkdGR191c2VybmFtZSAmJiB1c2VyLkNDX3VzZXJuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG90YWxfbm9ybSA9IGNjX25vcm0gLyAzICsgbGNfbm9ybSAvIDMgKyBnZmdfbm9ybSAvIDM7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHVzZXIuTHRfdXNlcm5hbWUgJiYgdXNlci5HRkdfdXNlcm5hbWUgfHwgdXNlci5HRkdfdXNlcm5hbWUgJiYgdXNlci5DQ191c2VybmFtZSB8fCB1c2VyLkNDX3VzZXJuYW1lICYmIHVzZXIuTHRfdXNlcm5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0b3RhbF9ub3JtID0gY2Nfbm9ybSAvIDIgKyBsY19ub3JtIC8gMiArIGdmZ19ub3JtIC8gMjtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodXNlci5MdF91c2VybmFtZSB8fCB1c2VyLkdGR191c2VybmFtZSB8fCB1c2VyLkNDX3VzZXJuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG90YWxfbm9ybSA9IGNjX25vcm0gLyAxICsgbGNfbm9ybSAvIDEgKyBnZmdfbm9ybSAvIDE7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsX25vcm0gPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1ZhbHVlcyA9IHtcclxuICAgICAgICAgICAgICAgICAgICBjYzogY29kZWNoZWZTb2x2ZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgY2NzOiBjY19ub3JtLFxyXG4gICAgICAgICAgICAgICAgICAgIGxjOiBsZWV0Y29kZVNvbHZlZCxcclxuICAgICAgICAgICAgICAgICAgICBsY3M6IGxjX25vcm0sXHJcbiAgICAgICAgICAgICAgICAgICAgZ2ZnOiBnZmdTb2x2ZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgZ2ZnczogZ2ZnX25vcm0sXHJcbiAgICAgICAgICAgICAgICAgICAgdF9ub3JtOiB0b3RhbF9ub3JtXHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRVc2VyID0gYXdhaXQgdXNlcnNDb2xsZWN0aW9uLmZpbmRPbmUoeyBfaWQ6IHVzZXIuX2lkIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFjdXJyZW50VXNlcikgY29udGludWU7IC8vIFNraXAgaWYgdXNlciBub3QgZm91bmRcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBoYXNDaGFuZ2VzID0gT2JqZWN0LmtleXMobmV3VmFsdWVzKS5zb21lKGtleSA9PiBcclxuICAgICAgICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeShjdXJyZW50VXNlcltrZXldKSAhPT0gSlNPTi5zdHJpbmdpZnkobmV3VmFsdWVzW2tleV0pXHJcbiAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChoYXNDaGFuZ2VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdXNlcnNDb2xsZWN0aW9uLnVwZGF0ZU9uZSh7IF9pZDogdXNlci5faWQgfSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2V0OiBuZXdWYWx1ZXNcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgVXBkYXRlZCB1c2VyICR7dXNlci5faWR9YCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBObyBjaGFuZ2VzIGZvciB1c2VyICR7dXNlci5faWR9YCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaSsrO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBkZWxheSgxMDAwKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHByb2Nlc3NpbmcgdXNlciAke3VzZXIuX2lkfTpgLCBlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgYXdhaXQgY2xpZW50LmNsb3NlKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbnVwZGF0ZVF1ZXN0aW9uc1NvbHZlZCgpLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xyXG4iXSwibmFtZXMiOlsiTW9uZ29DbGllbnQiLCJyZXF1aXJlIiwiYXhpb3MiLCJjaGVlcmlvIiwidXJsIiwicHJvY2VzcyIsImVudiIsIk1PTkdPREJfVVJJIiwiZGJOYW1lIiwidXNlcnNDb2xsZWN0aW9uTmFtZSIsImRlbGF5IiwibXMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJzY3JhcGVRdWVzdGlvbnNTb2x2ZWQiLCJzZWxlY3RvciIsInJlcyIsImdldCIsIiQiLCJsb2FkIiwiZGF0YSIsImQiLCJsYXN0IiwidGV4dCIsInRyaW0iLCJwYXJzZUludCIsIm1hdGNoIiwiZXJyb3IiLCJjb25zb2xlIiwibWVzc2FnZSIsImdmZ1NjcmFwZVF1ZXN0aW9uc1NvbHZlZCIsIm15TGlzdCIsIm1hdGNoZXMiLCJmb3JFYWNoIiwibnVtIiwicHVzaCIsImZldGNoTGVldENvZGVTb2x2ZWQiLCJ1c2VybmFtZSIsImVhc3kiLCJlYXN5U29sdmVkIiwibWVkaXVtIiwibWVkaXVtU29sdmVkIiwiaGFyZCIsImhhcmRTb2x2ZWQiLCJ1cGRhdGVRdWVzdGlvbnNTb2x2ZWQiLCJjbGllbnQiLCJtYXhSZXRyaWVzIiwicmV0cnlEZWxheSIsImNvbm5lY3QiLCJkYiIsInVzZXJzQ29sbGVjdGlvbiIsImNvbGxlY3Rpb24iLCJ1c2VycyIsImZpbmQiLCJ0b0FycmF5IiwiaSIsInVzZXIiLCJjb2RlY2hlZlVybCIsIkNDX3VzZXJuYW1lIiwibGVldGNvZGVVc2VybmFtZSIsIkx0X3VzZXJuYW1lIiwiZ2ZnVXNlcm5hbWVVcmwiLCJHRkdfdXNlcm5hbWUiLCJjb2RlY2hlZlNvbHZlZCIsImxlZXRjb2RlU29sdmVkIiwiZ2ZnU29sdmVkIiwiYXR0ZW1wdCIsIl9pZCIsImxjX25vcm0iLCJnZmdfbm9ybSIsImlzTmFOIiwiY2Nfbm9ybSIsInRvdGFsX25vcm0iLCJuZXdWYWx1ZXMiLCJjYyIsImNjcyIsImxjIiwibGNzIiwiZ2ZnIiwiZ2ZncyIsInRfbm9ybSIsImN1cnJlbnRVc2VyIiwiZmluZE9uZSIsImhhc0NoYW5nZXMiLCJPYmplY3QiLCJrZXlzIiwic29tZSIsImtleSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ1cGRhdGVPbmUiLCIkc2V0IiwibG9nIiwiY2xvc2UiLCJjYXRjaCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/scrape.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Flogin&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Clogin.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();